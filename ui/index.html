<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>BibTeX Cleaner</title>
    <link rel="stylesheet" href="/static/styles.css" />
  </head>
  <body>
    <div class="app">
      <header class="hero">
        <div class="hero__title">
          <span class="badge">IGC Group@ETH</span>
          <h1>BibTeX Cleaner</h1>
          <p>Clean, normalize, and validate @article entries with your own rules.</p>
        </div>
      </header>

      <section class="panel">
        <div class="panel__header">
          <h2>Options</h2>
          <label class="toggle">
            <input id="autoClean" type="checkbox" />
            <span>Auto clean</span>
          </label>
          <button id="optionsToggle" class="btn btn--ghost" type="button">Show advanced</button>
        </div>
        <div class="panel__grid">
          <label class="field field--switch">
            <input id="titlecase" type="checkbox" checked />
            <span>Title case titles</span>
          </label>
          <label class="field field--switch">
            <input id="regenKeys" type="checkbox" />
            <span>Regenerate citation keys</span>
          </label>
          <div class="field">
            <span>Sample</span>
            <div class="field__row">
              <button id="loadExampleBtn" class="btn btn--ghost">Load example</button>
              <button id="clearBtn" class="btn btn--ghost">Clear</button>
            </div>
          </div>
        </div>
        <div id="optionsBody" class="options-body">
          <div class="panel__grid">
            <div class="field">
              <span>Keep fields</span>
              <div id="keepFields" class="checkbox-grid"></div>
            </div>
          </div>
          <div class="panel__footer">
            <label class="field">
              <span>Journal abbreviations (one per line: Full Name = Abbrev)</span>
              <span class="field__hint">This will overwrite the iso4 abbreviation.</span>
              <textarea id="journalAbbrev" spellcheck="false" placeholder="Nature Chemical Biology = Nat. Chem. Biol."></textarea>
            </label>
          </div>
        </div>
      </section>

      <section class="editors">
        <div class="editor">
          <div class="editor__head">
            <h3>Input</h3>
            <span id="inputCount" class="meta">0 chars</span>
          </div>
          <textarea id="inputBib" spellcheck="false" placeholder="Paste your BibTeX here..."></textarea>
        </div>
        <div class="editor">
          <div class="editor__head">
            <h3>Output</h3>
            <span id="outputStatus" class="meta">Ready</span>
          </div>
          <textarea id="outputBib" spellcheck="false" readonly></textarea>
        </div>
      </section>

      <section class="action-bar">
        <button id="cleanBtn" class="btn btn--primary">Clean</button>
        <button id="copyBtn" class="btn">Copy Output</button>
        <button id="downloadBtn" class="btn">Download .bib</button>
      </section>

      <footer class="footer">
        <span>Powered by python.<br />S.-Y. Chen</span>
      </footer>
    </div>

    <script src="/static/app.js"></script>
  </body>
</html>
